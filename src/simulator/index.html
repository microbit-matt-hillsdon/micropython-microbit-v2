<!doctype html>
<html>
  <head>
  </head>
  <body>
    <div id='mp_js_stdout'></div>
    <div id="term"></div>
    <canvas id='uBitDisplay' width=200 height=200 style="margin:20px"></canvas>

    <script src="term.js"></script>
    <script>
      term = new Terminal({
        cols: 80,
        rows: 24,
        useStyle: true,
        screenKeys: true,
        cursorBlink: false
      });
      term.open(document.getElementById("term"));
      term.removeAllListeners('data');
      term.on('data', function(data) {
        // Pasted data from clipboard will likely contain
        // LF as EOL chars.
        data = data.replace(/\n/g, "\r");
        for (var i = 0; i < data.length; i++) {
          if (mp_js_process_char(data.charCodeAt(i))) {
            // exit for soft reset
          }
        }
      });
      mp_js_stdout.addEventListener('print', function(e) {
        term.write(e.data);
      }, false);

    </script>
    <script src="build/micropython.js"></script>
  </body>
</html>
